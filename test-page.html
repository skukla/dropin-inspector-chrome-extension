<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Dropin Inspector Test Page</title>
  <style>
    body {
      font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, sans-serif;
      padding: 20px;
      background: #f5f5f5;
    }
    .test-section {
      background: white;
      border-radius: 8px;
      padding: 20px;
      margin-bottom: 20px;
      box-shadow: 0 2px 4px rgba(0,0,0,0.1);
    }
    h1 { color: #333; }
    h2 { color: #666; margin-top: 0; }
    .expected { color: #16a34a; font-weight: bold; }
    .not-expected { color: #dc2626; font-weight: bold; }
    [data-block-name] {
      border: 2px solid #6366f1;
      padding: 10px;
      margin: 5px 0;
      background: #fafafa;
    }
    [data-slot], [data-slot-key] {
      border: 1px dashed #22c55e;
      padding: 6px;
      margin: 4px 0;
      background: #f0fdf4;
    }
  </style>

  <!-- These STYLE elements should NOT be detected as blocks/slots -->
  <style data-dropin="sdk">
    /* SDK styles - should be ignored */
    .some-style { color: red; }
  </style>
  <style data-dropin="PDP">
    /* PDP styles - should be ignored */
    .pdp-style { color: blue; }
  </style>
</head>
<body>
  <h1>Dropin Inspector Test Page</h1>
  <p>Open the Dropin Inspector extension to verify detection.</p>
  <p><strong>Focus:</strong> Blocks (EDS page elements) and Slots (dropin customization points)</p>

  <!-- ============================================ -->
  <!-- TEST CASE 1: PDP Block with Slots -->
  <!-- ============================================ -->
  <div class="test-section">
    <h2>Test Case 1: PDP Block with Multiple Slots</h2>
    <p class="expected">EXPECTED: 1 block, 7 slots</p>

    <div class="product-details block"
         data-block-name="product-details"
         data-block-status="loaded">
      <p>Block: product-details</p>

      <div data-slot="GalleryContent">
        Slot: GalleryContent
      </div>
      <div data-slot="Title">
        Slot: Title
      </div>
      <div data-slot="SpecialPrice">
        Slot: SpecialPrice
      </div>
      <div data-slot="RegularPrice">
        Slot: RegularPrice
      </div>
      <div data-slot="Options">
        Slot: Options
      </div>
      <div data-slot="Quantity">
        Slot: Quantity
      </div>
      <div data-slot="Actions">
        Slot: Actions
      </div>
    </div>
  </div>

  <!-- ============================================ -->
  <!-- TEST CASE 2: Block with data-slot-key -->
  <!-- ============================================ -->
  <div class="test-section">
    <h2>Test Case 2: Block with data-slot-key Slots</h2>
    <p class="expected">EXPECTED: 1 block, 2 slots</p>

    <div data-block-name="product-options"
         data-block-status="loaded">
      <p>Block: product-options</p>

      <div data-slot-key="product-swatch--color">
        Slot Key: product-swatch--color
      </div>
      <div data-slot-key="product-swatch--size">
        Slot Key: product-swatch--size
      </div>
    </div>
  </div>

  <!-- ============================================ -->
  <!-- TEST CASE 3: Block with no slots -->
  <!-- ============================================ -->
  <div class="test-section">
    <h2>Test Case 3: Block with No Slots</h2>
    <p class="expected">EXPECTED: 1 block, 0 slots</p>

    <div data-block-name="static-content"
         data-block-status="loaded">
      <p>Block: static-content (no slots - just static content)</p>
      <p>This block has no dropin customization points.</p>
    </div>
  </div>

  <!-- ============================================ -->
  <!-- TEST CASE 4: Cart Block with Slots -->
  <!-- ============================================ -->
  <div class="test-section">
    <h2>Test Case 4: Cart Block with Slots</h2>
    <p class="expected">EXPECTED: 1 block, 2 slots</p>

    <div data-block-name="cart-summary"
         data-block-status="loaded">
      <p>Block: cart-summary</p>

      <div data-slot="CartItems">
        Slot: CartItems
      </div>
      <div data-slot="CartTotal">
        Slot: CartTotal
      </div>
    </div>
  </div>

  <!-- ============================================ -->
  <!-- TEST CASE 5: Elements that should NOT match -->
  <!-- ============================================ -->
  <div class="test-section">
    <h2>Test Case 5: Non-dropin Elements (Should NOT be detected)</h2>
    <p class="not-expected">EXPECTED: These should NOT be detected</p>

    <!-- Generic container class - should NOT match -->
    <div class="container">
      This is a generic .container div - should NOT be detected
    </div>

    <!-- Random data attribute - should NOT match -->
    <div data-component="something">
      This has data-component, not data-block-name - should NOT be detected
    </div>
  </div>

  <!-- ============================================ -->
  <!-- EXPECTED TOTALS -->
  <!-- ============================================ -->
  <div class="test-section" style="background: #f0fdf4; border: 2px solid #16a34a;">
    <h2 style="color: #16a34a;">Expected Detection Summary</h2>
    <ul>
      <li><strong>Total Blocks:</strong> 4</li>
      <li><strong>Total Slots:</strong> 11</li>
    </ul>
    <p><strong>Hierarchy:</strong></p>
    <ul>
      <li>product-details block (7 slots)
        <ul>
          <li>GalleryContent, Title, SpecialPrice, RegularPrice, Options, Quantity, Actions</li>
        </ul>
      </li>
      <li>product-options block (2 slots)
        <ul>
          <li>product-swatch--color, product-swatch--size</li>
        </ul>
      </li>
      <li>static-content block (0 slots)</li>
      <li>cart-summary block (2 slots)
        <ul>
          <li>CartItems, CartTotal</li>
        </ul>
      </li>
    </ul>
  </div>

</body>
</html>
